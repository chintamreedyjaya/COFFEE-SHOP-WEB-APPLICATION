<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forgot Password</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="auth-container">
    <h2>Reset Your Password</h2>
        <!-- Firebase Password Reset Form -->
        <form id="firebase-forgot-password-form">
            <div class="form-group">
                <label for="firebase-email">Enter your registered email</label>
                <input type="email" id="firebase-email" name="email" required>
            </div>
            <button type="submit" class="btn">Send Reset Link (Firebase)</button>
        </form>

        <p class="auth-redirect"><a href="login.html">Back to Login</a></p>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
        import { getAuth, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js";

    const firebaseConfig = {
    apiKey: "AIzaSyAQJToq0lbciyZmHrs1csZDFPosL8mc5MI",
    authDomain: "coffee-shop-app-1b7b7.firebaseapp.com",
    databaseURL: "https://coffee-shop-app-1b7b7-default-rtdb.firebaseio.com",
    projectId: "coffee-shop-app-1b7b7",
    storageBucket: "coffee-shop-app-1b7b7.appspot.com",
    messagingSenderId: "581037622584",
    appId: "1:581037622584:web:56a359ce9473a4b6c6edcd"
};

        const app = initializeApp(firebaseConfig);
        const auth = getAuth();

        document.getElementById("firebase-forgot-password-form").addEventListener("submit", function (e) {
            e.preventDefault();
            const email = document.getElementById("firebase-email").value;

            sendPasswordResetEmail(auth, email)
                .then(() => {
                    alert("Password reset email sent! Check your inbox.");
                })
                .catch((error) => {
                    alert(error.message);
                });
        });
    </script>
</body>
</html>
